process CalTrigANAL  = {

   include "L1Trigger/L1GctAnalyzer/data/Services.cff"
   # Turn ON some more messages for debugging
   replace MessageLogger.cout = 
      { 
         #untracked PSet default = { untracked int32 limit = 0 }    # kill all messages in the log
         untracked PSet default = { untracked int32 limit = -1 }  # DON'T kill messages in the log!
         untracked PSet FwkJob  = { untracked int32 limit = -1 }  # except *all* of FwkJob's	  
      }


   # Read the digitised events from a root file
   #
   include "L1Trigger/L1GctAnalyzer/data/InputEvents.cff"
   include "L1Trigger/L1GctAnalyzer/data/CalGeometrySetup.cff"
   #
   replace PoolSource.maxEvents=20

   # Here's the stuff we want to do with the digitised events
   include "L1Trigger/L1GctAnalyzer/data/calTrig.cff"
   include "L1Trigger/L1GctAnalyzer/data/JetMETanalysis.cff"
   include "L1Trigger/L1GctAnalyzer/data/ecalClustering.cff"
#   sequence postDigi = { calTrig, jetMetAnalysis, ecalClustering }
   sequence postDigi = { calTrig, ecalLocalRecoSequence & ( jetMetNoEcalReco, ecalClustering ) }

   # Here's the test definition
   include "L1Trigger/L1GctAnalyzer/data/TrigTestAnalysis.cfi"
   #replace test.histogramFileName="gctProdHistos.root"


   # Now order modules for execution
   # Note "test" needs to be executed last!
   #
   path p1 = { postDigi }
   endpath analysis = { test }

   # uncomment if we want to write out the events
   #include "L1Trigger/L1GctAnalyzer/data/OutputEvents.cff"
   #endpath outpath = { outputEvents }

}
