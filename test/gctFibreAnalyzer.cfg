process FibreAnalyser  = {
    
    untracked PSet maxEvents = { untracked int32 input = 5 } //total = 3564 - using reduced amount because i ran out of disk space for the logger...
									  //total = 1 for the jet_counter (using the _2008_04_22.dat file)
    // Input file
    source = EmptySource {
	
    }
    
    // Logger
    service = MessageLogger {
        untracked vstring destinations     = { "detailedInfo.txt"}
        untracked PSet detailedInfo.txt    = { untracked string threshold = "INFO" } 
        //untracked vstring debugModules     = { "FibreAnalysis", "l1GctHwDigis" }
	untracked vstring debugModules   = { "*" }
//	untracked vstring suppressWarning  = { "source", "l1GctHwDigis" }
    }

    
    module gctRaw = TextToRaw{
 //only select one of these at a time
 //untracked string filename = "counter_2008_03_04.dat"
 //untracked string filename = "logical_id_2008_03_04.dat"
// untracked string filename = "jet_counter_2008_05_14.dat"
	untracked string filename = "logicalid.dat"
}
    
    module l1GctHwDigis = GctRawToDigi {
	InputTag inputLabel = gctRaw
	int32 gctFedId = 745
	untracked bool verbose = false
	bool hltMode = false
	bool grenCompatibilityMode = false
	untracked bool unpackEm = true
	untracked bool unpackJets = true
	untracked bool unpackEtSums = true
	untracked bool unpackInternEm = true
	untracked bool unpackRct = true
	untracked bool unpackFibres = true
    }
    
    // Fibre Analyzer
    module FibreAnalysis = GctFibreAnalyzer {
	untracked InputTag FibreSource   = l1GctHwDigis        
	 //make sure only one of these is set to true
	untracked bool doLogicalID = true
        untracked bool doCounter = false
    }
    
    path p ={gctRaw, l1GctHwDigis, FibreAnalysis}
}

