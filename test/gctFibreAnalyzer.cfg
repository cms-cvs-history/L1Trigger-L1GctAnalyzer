process FibreAnalyser  = {
    
    untracked PSet maxEvents = { untracked int32 input = 3564 } 

    // Input file
    source = EmptySource {}
    
    // Logger
    service = MessageLogger {
        untracked vstring destinations     = { "detailedInfo.txt"}
        untracked PSet detailedInfo.txt    = { untracked string threshold = "INFO" } 
        untracked vstring debugModules     = { "FibreAnalysis" }
	//untracked vstring debugModules   = { "*" }
	untracked vstring suppressWarning  = { "source", "l1GctHwDigis" }
    }
    
    // Text to raw
    module gctRaw = TextToRaw{
	untracked string filename = "counter_2008_22_04.dat"
    }

    // Unpacker
    module l1GctHwDigis = GctRawToDigi {
	InputTag inputLabel = gctRaw
	int32 gctFedId = 745
	untracked bool verbose = false
	bool hltMode = false
	bool grenCompatibilityMode = false
	untracked bool unpackEm = false
	untracked bool unpackJets = false
	untracked bool unpackEtSums = false
	untracked bool unpackInternEm = false
	untracked bool unpackRct = false
	untracked bool unpackFibres = true
    }
    
    // Fibre Analyzer
    module FibreAnalysis = GctFibreAnalyzer {
	untracked InputTag FibreSource   = l1GctHwDigis
        untracked bool doLogicalID = false
        untracked bool doCounter = true
    }
    
    path p ={gctRaw, l1GctHwDigis, FibreAnalysis}
}

